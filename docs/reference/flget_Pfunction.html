<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract p function data from a NetCDF file downloaded by FjordLight. — flget_Pfunction • FjordLight</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract p function data from a NetCDF file downloaded by FjordLight. — flget_Pfunction"><meta name="description" content="This functions will conveniently extract the p function data stored within a
NetCDF file downloaded via fl_DownloadFjord.
There are options for how the user would like to subset the data, which data format the
data should be extracted to, and if the user would like to plot the data in the process."><meta property="og:description" content="This functions will conveniently extract the p function data stored within a
NetCDF file downloaded via fl_DownloadFjord.
There are options for how the user would like to subset the data, which data format the
data should be extracted to, and if the user would like to plot the data in the process."><meta property="og:image" content="https://face-it-project.github.io/FjordLight/index.html/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FjordLight</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/fl_example.html">Examples</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/FACE-IT-project/FjordLight/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Extract p function data from a NetCDF file downloaded by <code>FjordLight</code>.</h1>

      <div class="d-none name"><code>flget_Pfunction.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This functions will conveniently extract the p function data stored within a
NetCDF file downloaded via <code><a href="fl_DownloadFjord.html">fl_DownloadFjord</a></code>.
There are options for how the user would like to subset the data, which data format the
data should be extracted to, and if the user would like to plot the data in the process.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">flget_Pfunction</span><span class="op">(</span></span>
<span>  <span class="va">fjord</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"coastal"</span>,</span>
<span>  period <span class="op">=</span> <span class="st">"Global"</span>,</span>
<span>  month <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"function"</span>,</span>
<span>  PLOT <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fjord">fjord<a class="anchor" aria-label="anchor" href="#arg-fjord"></a></dt>
<dd><p>Expects the object loaded via <code><a href="fl_LoadFjord.html">fl_LoadFjord</a></code>.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Whether the p function should show values for the <code>coastal</code> zone (&lt; 200 m deep),
or the <code>shallow</code> zone (&lt; 50 m deep).</p></dd>


<dt id="arg-period">period<a class="anchor" aria-label="anchor" href="#arg-period"></a></dt>
<dd><p>Here the user determines which time period of data should be loaded. To load
the total average values (default) use <code>"Global"</code>. One may chose instead to load the
<code>"Yearly"</code> or <code>"Monthly"</code> values. Note that monthly values here represent the
climatological average for the month, not one month in a given year. If the user would
like one specific month of data (only available for bottom PAR), they should use
<code><a href="flget_PARbottomMonthlyTS.html">flget_PARbottomMonthlyTS</a></code>.</p></dd>


<dt id="arg-month">month<a class="anchor" aria-label="anchor" href="#arg-month"></a></dt>
<dd><p>The monthly climatology to extract. Accepts an integer value from 3 to 10.
This argument is ignored if <code>period = "Yearly"</code>.</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>The yearly average to extract. Currently accepts an integer value from 2003 to 2022.
This argument is ignored if <code>period = "Monthly"</code>.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Determines the basic process that this function performs. The default
<code>mode = "function"</code> will allow the user to create a function that they can then use
themselves to determine p curves using their own input (see examples). Or to access the
underlying p function data directly set <code>mode = "df"</code>.</p></dd>


<dt id="arg-plot">PLOT<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>Boolean argument (default = <code>FALSE</code>) that tells the function if the user
would like the loaded data to be plotted or not.</p></dd>


<dt id="arg-add">add<a class="anchor" aria-label="anchor" href="#arg-add"></a></dt>
<dd><p>Boolean (i.e. <code>TRUE/FALSE</code>) to tell the function to add the p function plot
to an existing plot. See examples below.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments that may be passed to <code><a href="flplot_Pfunction.html">flplot_Pfunction</a></code>, which
will implement them using base R plotting functionality.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Depending on which arguments the user chooses for <code>mode</code>, a function will
be returned (see examples). Or a two column data.frame:</p>
<dl><dt>irradianceLevel</dt>
<dd><p>A threshold value [mol photons m-2 d-1]</p></dd>

  <dt>optics_global|year|month</dt>
<dd><p>The column name is determined by the arguments passed to <code>optics</code>
  and either <code>global</code>, <code>year</code>, or <code>month</code>, depending on which <code>period</code> was indicated.
  These values show the percent of the fjord (filtered for pixels with a depth of 200 m or shallower) that
  received at least the amount of irradiance indicated in the <code>irradianceLevel</code> column.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Bernard Gentili &amp; Robert Schlegel</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load data</span></span></span>
<span class="r-in"><span><span class="va">fjord_code</span> <span class="op">&lt;-</span> <span class="st">"test"</span></span></span>
<span class="r-in"><span><span class="va">fjorddata</span> <span class="op">&lt;-</span> <span class="fu"><a href="fl_LoadFjord.html">fl_LoadFjord</a></span><span class="op">(</span><span class="va">fjord_code</span>, dirdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"FjordLight"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a function</span></span></span>
<span class="r-in"><span><span class="va">fG</span> <span class="op">&lt;-</span> <span class="fu">flget_Pfunction</span><span class="op">(</span><span class="va">fjorddata</span>, <span class="st">"shallow"</span>, <span class="st">"Global"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Then use it with specific PAR thresholds</span></span></span>
<span class="r-in"><span><span class="va">irradiance_levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fG</span><span class="op">(</span><span class="va">irradiance_levels</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 36.354034 19.763483  3.899282</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># As a 2 column data.frame</span></span></span>
<span class="r-in"><span><span class="va">f2012</span> <span class="op">&lt;-</span> <span class="fu">flget_Pfunction</span><span class="op">(</span><span class="va">fjorddata</span>, <span class="st">"shallow"</span>, <span class="st">"Yearly"</span>, year <span class="op">=</span> <span class="fl">2012</span>, mode <span class="op">=</span> <span class="st">"df"</span>, PLOT <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="flget_Pfunction-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">f2012</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	101 obs. of  2 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ irradianceLevel: num  0.001 0.0011 0.0012 0.00132 0.00145 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Pshallow_2012  : num  62.7 62.3 61.8 61.4 61 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot a P-function</span></span></span>
<span class="r-in"><span><span class="va">fGlob</span> <span class="op">&lt;-</span> <span class="fu">flget_Pfunction</span><span class="op">(</span><span class="va">fjorddata</span>, <span class="st">"coastal"</span>, <span class="st">"Global"</span>, PLOT <span class="op">=</span> <span class="cn">TRUE</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="fl">1</span>, lwd <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>                         Main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">fjord_code</span>, <span class="st">"P-functions"</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="flget_Pfunction-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bernard Gentili, Jean-Pierre Gattuso, Robert W. Schlegel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

